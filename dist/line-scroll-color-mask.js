import{a as f,b as g,c as v,d as T,e as S}from"./chunks/chunk-2P4JYSVV.js";var c={element:"line-scroll-color-mask",inactiveColor:"line-scroll-inactive-color",activeColor:"line-scroll-active-color"},h=()=>{let t=import.meta.url;return g({selector:`script[src="${t}"]`})},u=[],A=()=>{for(let t of u)if(t.splitText&&(t.splitText.revert(),t.splitText=void 0),t.tls){for(let i of t.tls)i.destroy();t.tls=void 0}u=[]},p=()=>{let t=v({selector:`[${c.element}]`});if(!t)return;let[i,s,a]=T(["SplitText","ScrollTrigger"]);if(!i)return;if(!s){console.error("SplitText plugin script is not loaded");return}if(!a){console.error("Scroll trigger plugin script is not loaded");return}i.registerPlugin(s,a);let d=h();if(!d)return;let L=d.getAttribute(c.inactiveColor),y=d.getAttribute(c.activeColor),b=n=>{let e,l,o=i.context(()=>{e=i.timeline(),e.from(n,{"--line-width":0,duration:1}),l=a.create({trigger:n,start:"top 60%",end:"bottom 60%",scrub:1,animation:e})});return{tl:e,destroy:()=>{l?.kill(),l=void 0,e?.revert(),e=void 0,o?.revert(),o=void 0}}};for(let n of t){let e=[],l=[],o=n.getAttribute(c.inactiveColor)||L,m=n.getAttribute(c.activeColor)||y,C=s.create(n,{type:"lines",autoSplit:!0,linesClass:"line-scroll-splitted-line",onSplit:x=>{if(e.length>0){for(let r of e)r.destroy();e=[]}l=x.lines;for(let r of l){o&&r.style.setProperty("--inactive-color",o),m&&r.style.setProperty("--active-color",m);let E=b(r);e.push(E)}}});u.push({splitText:C,tls:e})}};f(()=>{p(),S({name:"LINE_SCROLL_COLOR_MASK_ANIMATION",async:!1,init:p,destroy:A,reInit:()=>{A(),p()}})});
