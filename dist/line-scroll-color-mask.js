import{a as g,b as f,c as v,d as T}from"./chunks/chunk-T2FREDKK.js";var c={element:"line-scroll-color-mask",inactiveColor:"line-scroll-inactive-color",activeColor:"line-scroll-active-color"},w=()=>{let t=import.meta.url;return f({selector:`script[src="${t}"]`})},s=[],S=()=>{for(let t of s)if(t.splitText&&(t.splitText.revert(),t.splitText=void 0),t.tls){for(let i of t.tls)i.destroy();t.tls=void 0}s=[]},u=()=>{let t=v({selector:`[${c.element}]`});if(!t)return;let[i,a,d]=T(["SplitText","ScrollTrigger"]);if(!i)return;if(!a){console.error("SplitText plugin script is not loaded");return}if(!d){console.error("Scroll trigger plugin script is not loaded");return}i.registerPlugin(a,d);let p=w();if(!p)return;let y=p.getAttribute(c.inactiveColor),A=p.getAttribute(c.activeColor),L=n=>{let e,o,l=i.context(()=>{e=i.timeline(),e.from(n,{"--line-width":0,duration:1}),o=d.create({trigger:n,start:"top 60%",end:"bottom 60%",scrub:1,animation:e})});return{tl:e,destroy:()=>{o?.kill(),o=void 0,e?.revert(),e=void 0,l?.revert(),l=void 0}}};for(let n of t){let e=[],o=[],l=n.getAttribute(c.inactiveColor)||y,m=n.getAttribute(c.activeColor)||A,b=a.create(n,{type:"lines",autoSplit:!0,linesClass:"line-scroll-splitted-line",onSplit:C=>{if(e.length>0){for(let r of e)r.destroy();e=[]}o=C.lines;for(let r of o){l&&r.style.setProperty("--inactive-color",l),m&&r.style.setProperty("--active-color",m);let x=L(r);e.push(x)}}});s.push({splitText:b,tls:e})}};g(()=>{u(),window.wfCustomPageLoadFeatures||(window.wfCustomPageLoadFeatures=[]),window.wfCustomPageLoadFeatures.push({name:"LineScrollColorMask",init:u,destroy:S,reInit:()=>{S(),u()},isInitialized:!0,getData:()=>({allSplitAnimationInstances:s})})});
