import{a as K,d as q}from"./chunks/chunk-T2FREDKK.js";var F=e=>new Promise(t=>setTimeout(t,e));var C={revealType:"[data-reveal-type]",revealParent:"[data-reveal-parent]",toggleScroll:"[data-toggle-scroll]",startScroll:"[data-start-scroll]",stopScroll:"[data-stop-scroll]",resetAnimation:"[data-reset-animation]",keepSplit:"[data-reset-animation]"},ne=["chars","words","lines"],X=new Set(ne),oe=["from-top","from-bottom","fade-from-bottom-left"],B=new Set(oe),ie=["power1","power1.in","power1.out","power1.inOut","power2","power2.in","power2.out","power2.inOut","power3","power3.in","power3.out","power3.inOut","power4","power4.in","power4.out","power4.inOut","back","back.in","back.out","back.inOut","bounce","bounce.in","bounce.out","bounce.inOut","circ","circ.in","circ.out","circ.inOut","elastic","elastic.in","elastic.out","elastic.inOut","expo","expo.in","expo.out","expo.inOut","sine","sine.in","sine.out","sine.inOut"],U=new Set(ie);var m=(e,t,n)=>e!==void 0&&n&&!n(e)||e===void 0||Number.isNaN(e)?t:e;var Y=(e,t,n)=>{let{animationType:p,delay:o,duration:u,easing:i,revealType:r,staggerDelay:x,fromX:y,fromY:S,fromOpacity:A,viewThreshold:E,resetAnimation:l}=e.dataset,O=n?.dataset.viewThreshold,P=m(p,t?.animationType??"from-bottom",s=>s!==void 0&&B.has(s)),k=m(r,t?.revealType??"chars",s=>s!==void 0&&X.has(s)),N=m(i,t?.easing??"powe3.out",s=>s!==void 0&&U.has(s)),R=m(Number.parseFloat(o||""),t?.delay??0),V=m(Number.parseFloat(E||O||""),t?.viewThreshold??.8),I=m(Number.parseFloat(u||""),t?.duration??.5),h=m(Number.parseFloat(x||""),t?.staggerDelay??.05);return{animationType:P,revealType:k,delay:R,duration:I,easing:N,staggerDelay:h,fromX:y,fromY:S,fromOpacity:A,viewThreshold:V,resetAnimation:l}};function j(e){return se(e).forEach(n=>{let p=n.nodeValue||"",o=document.createDocumentFragment(),u=p.split(/(\s+)/);for(let i of u)if(i.includes("-")&&/\S/.test(i)){let r=document.createElement("span");r.classList.add("split-word-nowrap"),r.textContent=i,o.appendChild(r)}else o.appendChild(document.createTextNode(i));n.parentNode&&n.parentNode.replaceChild(o,n)}),e}function se(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),p;for(;p=n.nextNode();){let o=p;o.nodeValue&&o.nodeValue.includes("-")&&t.push(o)}return t}var b=[],W=[],G=()=>{for(let e of W){let{splitText:t,revealObserver:n,resetObserver:p}=e();b.push({splitText:t,revealObserver:n,resetObserver:p})}W=[]},H=()=>{let e=window.BarbaInstance,t=document.querySelectorAll(C.revealType),n=Number.parseInt(document.body.dataset.loaderDuration??""),p=!Number.isNaN(n),[o,u]=q(["SplitText"]);if(!o){console.error("GSAP is not imported. GSAP Script must be loaded before text-reveal script. Get it from here: https://gsap.com/docs/v3/Installation/?tab=cdn&module=esm&require=false&plugins=SplitText");return}if(!u){console.error("SplitText plugin script is not imported. SplitText Script must be loaded after GSAP script and before text-reveal script. Get it from here: https://gsap.com/docs/v3/Installation/?tab=cdn&module=esm&require=false&plugins=SplitText");return}for(let i=0;i<t.length;i++){let r=t[i],x=r.closest(C.revealParent)||r,{animationType:y,delay:S,duration:A,easing:E,revealType:l,staggerDelay:O,fromX:P,fromY:k,fromOpacity:N,viewThreshold:R}=Y(r,void 0,x),V=()=>{let a=r.dataset.keepSplit||r.closest("[data-keep-split]")?.dataset.keepSplit;return a==="true"},I=()=>{let a=r.dataset.resetAnimation||r.closest("[data-reset-animation]")?.dataset.resetAnimation;return a==="true"},h=V(),s=I(),T={},d={};y==="from-bottom"?(T.y="100%",d.y="0%"):y==="from-top"?(T.y="-100%",d.y="0%"):y==="fade-from-bottom-left"&&(T.y=k||"30%",T.x=P||"-50px",T.opacity=N||"0.05",d.y="0%",d.x="0%",d.opacity="1"),d.delay=S,d.duration=A,d.ease=E,d.stagger=O;let v,c,w,D,_=()=>{c&&(c.revert(),c=void 0),v&&(v.revert(),v=void 0)},Q=()=>{v=o.context(()=>{c=o.timeline({paused:!0}),c.set(D,T).add("start"),c.to(D,d).add("end"),c.progress(.001)})},z=()=>{_(),w?.revert(),l==="lines"&&!h&&$()},Z=()=>{let f=r.getBoundingClientRect().width+"px";r.style.minWidth=f},$=()=>{r.style.removeProperty("min-width")},M=()=>{l==="lines"&&!h&&(j(r),Z());let a=u.create(r,{type:l==="chars"?"words, chars":l,autoSplit:l==="lines",mask:y==="fade-from-bottom-left"?void 0:l==="chars"?"words":l,smartWrap:l==="chars",charsClass:"split-chars",wordsClass:"split-words",linesClass:"split-lines",onSplit:f=>{D=f[l],Q()}});return r.setAttribute("data-initialized",""),a},ee=()=>{c&&c.restart(!0).then(()=>{h||z()})},te=()=>{s&&(z(),w=M())},re=()=>{w=M();let a=new IntersectionObserver(L=>{for(let g of L)if(g.isIntersecting){if(ee(),s)return;a.unobserve(g.target)}},{threshold:R});a.observe(x);let f;return s&&(f=new IntersectionObserver(L=>{for(let g of L){if(g.isIntersecting)return;te()}},{threshold:0}),f.observe(x)),{splitText:w,revealObserver:a,resetObserver:f}};W.push(re)}e?e.hooks.afterOnce(()=>{document.fonts.ready.then(()=>{G()})}):p?window.addEventListener("load",async()=>{let i=document.fonts.ready,r=F(n);await Promise.all([i,r]),G()}):document.fonts.ready.then(()=>{G()})},J=()=>{for(let e of b)e.splitText&&(e.splitText.revert(),e.splitText=void 0),e.revealObserver&&(e.revealObserver.disconnect(),e.revealObserver=void 0),e.resetObserver&&(e.resetObserver.disconnect(),e.resetObserver=void 0);b=[]};K(()=>{H(),window.wfCustomPageLoadFeatures||(window.wfCustomPageLoadFeatures=[]),window.wfCustomPageLoadFeatures.push({name:"TextRevealAnimations",init:H,destroy:J,reInit:()=>{J(),H()},isInitialized:!0,getData:()=>({textRevealInstances:b})})});
