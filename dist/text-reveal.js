import{a as G,b as x,c as W,d as C}from"./chunks/chunk-Z7NK4P3M.js";import{a as N,d as k,e as M}from"./chunks/chunk-DMBK5H64.js";var I=[],A=[],u=[],g=()=>{for(let t of u)t();u=[]},O=()=>{let t=window.BarbaInstance,w=document.querySelectorAll(x.revealType),P=Number.parseInt(document.body.dataset.loaderDuration??""),V=!Number.isNaN(P),[m,E]=k(["SplitText"]);if(!m){console.error("GSAP is not imported. GSAP Script must be loaded before text-reveal script. Get it from here: https://gsap.com/docs/v3/Installation/?tab=cdn&module=esm&require=false&plugins=SplitText");return}if(!E){console.error("SplitText plugin script is not imported. SplitText Script must be loaded after GSAP script and before text-reveal script. Get it from here: https://gsap.com/docs/v3/Installation/?tab=cdn&module=esm&require=false&plugins=SplitText");return}for(let d=0;d<w.length;d++){let e=w[d],q=e.parentElement||e,B=()=>{let R=!1,D=()=>{if(R)return;R=!0;let c=e.closest(x.revealParent)||e,{animationType:a,delay:K,duration:F,easing:X,revealType:s,staggerDelay:_,fromX:Y,fromY:j,fromOpacity:J,viewThreshold:Q}=W(e,void 0,c),U=()=>{let r=e.dataset.keepSplit||e.closest("[data-keep-split]")?.dataset.keepSplit;return r==="true"},Z=()=>{let r=e.dataset.resetAnimation||e.closest("[data-reset-animation]")?.dataset.resetAnimation;return r==="true"},y=U(),b=Z(),l={},n={};a==="from-bottom"?(l.y="100%",n.y="0%"):a==="from-top"?(l.y="-100%",n.y="0%"):a==="fade-from-bottom-left"&&(l.y=j||"30%",l.x=Y||"-50px",l.opacity=J||"0.05",n.y="0%",n.x="0%",n.opacity="1"),n.delay=K,n.duration=F,n.ease=X,n.stagger=_;let f,i,p,T,$=()=>{i&&(i.revert(),i=void 0),f&&(f.revert(),f=void 0)},ee=()=>{f=m.context(()=>{i=m.timeline({paused:!0}),i.set(T,l).add("start"),i.to(T,n).add("end"),i.progress(.001)})},L=()=>{$(),p?.revert(),s==="lines"&&!y&&re()},te=()=>{let o=e.getBoundingClientRect().width+"px";e.style.minWidth=o},re=()=>{e.style.removeProperty("min-width")},z=()=>{s==="lines"&&!y&&(C(e),te());let r=E.create(e,{type:s==="chars"?"words, chars":s,autoSplit:s==="lines",mask:a==="fade-from-bottom-left"?void 0:s==="chars"?"words":s,smartWrap:s==="chars",charsClass:"split-chars",wordsClass:"split-words",linesClass:"split-lines",onSplit:o=>{T=o[s],ee()}});return e.setAttribute("data-initialized",""),r},ne=()=>{i&&i.restart(!0).then(()=>{y||L()})},se=()=>{b&&(L(),p=z())};p=z();let h=new IntersectionObserver(r=>{for(let o of r)if(o.isIntersecting){if(ne(),b)return;h.unobserve(o.target)}},{threshold:Q});h.observe(c);let S;b&&(S=new IntersectionObserver(r=>{for(let o of r){if(o.isIntersecting)return;se()}},{threshold:0}),S.observe(c)),I.push({splitText:p,revealObserver:h,resetObserver:S})},v=new IntersectionObserver(c=>{for(let a of c)a.isIntersecting&&(D(),v.unobserve(a.target))},{rootMargin:"200px",threshold:0});v.observe(q),A.push(v)};u.push(B)}t?t.hooks.afterOnce(()=>{document.fonts.ready.then(()=>{g()})}):V?window.addEventListener("load",async()=>{let d=document.fonts.ready,e=G(P);await Promise.all([d,e]),g()}):document.fonts.ready.then(()=>{g()})},H=()=>{for(let t of I)t.splitText&&(t.splitText.revert(),t.splitText=void 0),t.revealObserver&&(t.revealObserver.disconnect(),t.revealObserver=void 0),t.resetObserver&&(t.resetObserver.disconnect(),t.resetObserver=void 0);I=[];for(let t of A)t.disconnect();A=[],u=[]};O();M({name:"TEXT_REVEAL_ANIMATION",async:!1,init:O,destroy:H,reInit:()=>{H(),O()}});N(()=>{});
