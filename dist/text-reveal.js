import{a as K,d as X,e as q}from"./chunks/chunk-2P4JYSVV.js";var L=e=>new Promise(t=>setTimeout(t,e));var F={revealType:"[data-reveal-type]",revealParent:"[data-reveal-parent]",toggleScroll:"[data-toggle-scroll]",startScroll:"[data-start-scroll]",stopScroll:"[data-stop-scroll]",resetAnimation:"[data-reset-animation]",keepSplit:"[data-reset-animation]"},oe=["chars","words","lines"],B=new Set(oe),ie=["from-top","from-bottom","fade-from-bottom-left"],U=new Set(ie),se=["power1","power1.in","power1.out","power1.inOut","power2","power2.in","power2.out","power2.inOut","power3","power3.in","power3.out","power3.inOut","power4","power4.in","power4.out","power4.inOut","back","back.in","back.out","back.inOut","bounce","bounce.in","bounce.out","bounce.inOut","circ","circ.in","circ.out","circ.inOut","elastic","elastic.in","elastic.out","elastic.inOut","expo","expo.in","expo.out","expo.inOut","sine","sine.in","sine.out","sine.inOut"],Y=new Set(se);var m=(e,t,n)=>e!==void 0&&n&&!n(e)||e===void 0||Number.isNaN(e)?t:e;var _=(e,t,n)=>{let{animationType:p,delay:o,duration:u,easing:i,revealType:r,staggerDelay:x,fromX:y,fromY:w,fromOpacity:S,viewThreshold:A,resetAnimation:l}=e.dataset,E=n?.dataset.viewThreshold,O=m(p,t?.animationType??"from-bottom",s=>s!==void 0&&U.has(s)),P=m(r,t?.revealType??"chars",s=>s!==void 0&&B.has(s)),N=m(i,t?.easing??"powe3.out",s=>s!==void 0&&Y.has(s)),k=m(Number.parseFloat(o||""),t?.delay??0),R=m(Number.parseFloat(A||E||""),t?.viewThreshold??.8),V=m(Number.parseFloat(u||""),t?.duration??.5),h=m(Number.parseFloat(x||""),t?.staggerDelay??.05);return{animationType:O,revealType:P,delay:k,duration:V,easing:N,staggerDelay:h,fromX:y,fromY:w,fromOpacity:S,viewThreshold:R,resetAnimation:l}};function j(e){return ae(e).forEach(n=>{let p=n.nodeValue||"",o=document.createDocumentFragment(),u=p.split(/(\s+)/);for(let i of u)if(i.includes("-")&&/\S/.test(i)){let r=document.createElement("span");r.classList.add("split-word-nowrap"),r.textContent=i,o.appendChild(r)}else o.appendChild(document.createTextNode(i));n.parentNode&&n.parentNode.replaceChild(o,n)}),e}function ae(e){let t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null),p;for(;p=n.nextNode();){let o=p;o.nodeValue&&o.nodeValue.includes("-")&&t.push(o)}return t}var H=[],W=[],G=()=>{for(let e of W){let{splitText:t,revealObserver:n,resetObserver:p}=e();H.push({splitText:t,revealObserver:n,resetObserver:p})}W=[]},C=()=>{let e=window.BarbaInstance,t=document.querySelectorAll(F.revealType),n=Number.parseInt(document.body.dataset.loaderDuration??""),p=!Number.isNaN(n),[o,u]=X(["SplitText"]);if(!o){console.error("GSAP is not imported. GSAP Script must be loaded before text-reveal script. Get it from here: https://gsap.com/docs/v3/Installation/?tab=cdn&module=esm&require=false&plugins=SplitText");return}if(!u){console.error("SplitText plugin script is not imported. SplitText Script must be loaded after GSAP script and before text-reveal script. Get it from here: https://gsap.com/docs/v3/Installation/?tab=cdn&module=esm&require=false&plugins=SplitText");return}for(let i=0;i<t.length;i++){let r=t[i],x=r.closest(F.revealParent)||r,{animationType:y,delay:w,duration:S,easing:A,revealType:l,staggerDelay:E,fromX:O,fromY:P,fromOpacity:N,viewThreshold:k}=_(r,void 0,x),R=()=>{let a=r.dataset.keepSplit||r.closest("[data-keep-split]")?.dataset.keepSplit;return a==="true"},V=()=>{let a=r.dataset.resetAnimation||r.closest("[data-reset-animation]")?.dataset.resetAnimation;return a==="true"},h=R(),s=V(),T={},d={};y==="from-bottom"?(T.y="100%",d.y="0%"):y==="from-top"?(T.y="-100%",d.y="0%"):y==="fade-from-bottom-left"&&(T.y=P||"30%",T.x=O||"-50px",T.opacity=N||"0.05",d.y="0%",d.x="0%",d.opacity="1"),d.delay=w,d.duration=S,d.ease=A,d.stagger=E;let v,c,b,I,Q=()=>{c&&(c.revert(),c=void 0),v&&(v.revert(),v=void 0)},Z=()=>{v=o.context(()=>{c=o.timeline({paused:!0}),c.set(I,T).add("start"),c.to(I,d).add("end"),c.progress(.001)})},M=()=>{Q(),b?.revert(),l==="lines"&&!h&&ee()},$=()=>{let f=r.getBoundingClientRect().width+"px";r.style.minWidth=f},ee=()=>{r.style.removeProperty("min-width")},z=()=>{l==="lines"&&!h&&(j(r),$());let a=u.create(r,{type:l==="chars"?"words, chars":l,autoSplit:l==="lines",mask:y==="fade-from-bottom-left"?void 0:l==="chars"?"words":l,smartWrap:l==="chars",charsClass:"split-chars",wordsClass:"split-words",linesClass:"split-lines",onSplit:f=>{I=f[l],Z()}});return r.setAttribute("data-initialized",""),a},te=()=>{c&&c.restart(!0).then(()=>{h||M()})},re=()=>{s&&(M(),b=z())},ne=()=>{b=z();let a=new IntersectionObserver(D=>{for(let g of D)if(g.isIntersecting){if(te(),s)return;a.unobserve(g.target)}},{threshold:k});a.observe(x);let f;return s&&(f=new IntersectionObserver(D=>{for(let g of D){if(g.isIntersecting)return;re()}},{threshold:0}),f.observe(x)),{splitText:b,revealObserver:a,resetObserver:f}};W.push(ne)}e?e.hooks.afterOnce(()=>{document.fonts.ready.then(()=>{G()})}):p?window.addEventListener("load",async()=>{let i=document.fonts.ready,r=L(n);await Promise.all([i,r]),G()}):document.fonts.ready.then(()=>{G()})},J=()=>{for(let e of H)e.splitText&&(e.splitText.revert(),e.splitText=void 0),e.revealObserver&&(e.revealObserver.disconnect(),e.revealObserver=void 0),e.resetObserver&&(e.resetObserver.disconnect(),e.resetObserver=void 0);H=[]};K(()=>{C(),q({name:"TEXT_REVEAL_ANIMATION",async:!1,init:C,destroy:J,reInit:()=>{J(),C()}})});
